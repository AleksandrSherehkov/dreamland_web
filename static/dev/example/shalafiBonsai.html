<!DOCTYPE html>
<html lang="ru">
        <head>
                <meta charset="utf-8">
                <meta http-equiv="X-UA-Compatible" content="IE=edge">
                <meta name="viewport" content="width=device-width, initial-scale=1">
                <title>DreamLand MUD - Примеры программ</title>

    </head>
        <body>
<pre>

Бонсаи в клане Шалафи по-разному реагируют на вход в комнату того или иного персонажа.
bonsaiInit = function () {

    // Вешаем обработку события 'в комнату вошел чар' на саму комнату.
    .get_room_index(5713).onGreet = function(char, from_room, movetype) 
    {
	if (!char.is_npc() &amp;&amp; !char.is_immortal()){
	    if (char.getClan() == "SHALAFI") {
		char.act("Бонсаи в почтении склоняет свои ветви, приветствуя тебя.");
		char.recho("Бонсаи почтительно склоняет свои ветви, приветствуя %^C2.", char);
		return;
	    }
	    
	    if ((char.getClan() == "BATTLERAGER")) {

		if (char.getClanLevel() &gt; 6) {
		    char.act("Ветви бонсаи в ужасе отшатываются от тебя.");
		    char.recho("Ветви бонсаи в ужасе отшатываются от %^C1",char);
		    return;
		}
		
		char.act("Ветви бонсаи пытаются преградить тебе путь!");
		char.recho("Ветви бонсаи пытаются преградить путь %^C3!", char);
		return;
	    }

	    char.act("Ветви бонсаи тревожно вздрагивают при твоем появлении.");
	    char.recho("При появлении %^C2 ветви бонсаи начинают тревожно покачиваться.", char);
	}
    };
}
</pre>
        </body>
</html>

